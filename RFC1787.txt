组织：中国互动出版网（http://www.china-pub.com）
RFC文档中文翻译计划（http://www.china-pub.com/compters/emook/aboutemook.htm）
E-mail：ouyang@china-pub.com
译者：陈红才（dutchc   cipher_chc@sina.com ）
译文发布时间：2001-5-8
版权：本中文翻译文档版权归中国互动出版网所有。可以用于非商业用途自由转载，但必
须保留本文档的翻译及版权信息。


Network Working Group                                           Y. Rekhter
Request for Comments: 1787           T.J. Watson Research Center, IBM Corp.
Category: Informational                                          April 1995

              在多供应Internet上的软件路由
              (RFC1787 Routing in a Multi-provider Internet)

本备忘录的状态
本备忘录是为Internet社区提供信息的，它没有指定任何一种Internet标准。本备忘
录的发布不受任何限制。

摘要
    本文档是作者作为Internet架构委员会(IAB)的代表而准备的，是IAB为了促进讨论而
发布的。
    在过去的几年中，Internet发生了巨大的变化，其中一个突出点就是出现了各种各样的
提供Internet范围内的IP连接(路由器，链路连接)的供应商，他们是被不同的组织掌握的。
本文档介绍了在多提供者Internet网际层路由的一些问题，特别在单一路由方面。
1.网络服务供应商和网络服务用户
    在现今通行的路由范例中，提供者提供的是在网际层(IP)中能够到达的一大批目的地址
(主机)服务。一旦用户与其服务提供者建立连接，用户原则上可以通过其服务提供者到达所
有可以到达的目的地址。因为一个服务提供者的Internet范围内的连通性的服务价值是同通
过其可以到达目的地址的数目成正比的，所以不同服务提供者之间就有了互通互联的必要。
    一般情况下，服务提供者不需要对其所有用户提供同样的服务（根据目的地址来区分），
对其中一些用户来说，服务提供者可能限制他们访问其所能到达的所有目的地址中的一个子
集。事实上，提供针对各种不同类型的用户的限制链接的服务也应该被作为服务提供者的一
个服务项目。
    在多服务提供者的环境中，个别的提供者也许会不断的改变，并且有时候与总体目标相
冲突。一些提供者仅仅为一些特殊的用户提供链接服务。一些提供者对于能与接入其服务的
用户是没有限制的，只要按照他们要求的帐单交费就行。一些提供者在通过其他隶属于提供
者的组织（如其他提供者）转售其接入服务方面设置了一定的限制。一些提供者也许由一些
服从于特殊规则的公司（如垄断控制）控制，而其他提供者完全没有这些控制。不同的提供
者所覆盖的地理范围是不同的，从一个小区域（如乡村，城镇）到全国范围内，国际的，甚
至是洲际的。
    在所有的Internet提供者中，没有集中控制的。他们并不总是调整各自之间的利益，并
经常互相竞争。
    不管提供者之间存在多少差异，通过Internet范围内的分布式路由还是使Internet范
围内的IP链接实现了，这其中包括多提供者，因此这就意味着他们之间一定程度上的合作和
调和。因此，这就需要平衡供应者的目标和Internet范围内的链接和用户选择权的公众利益
的关系。下一步要做的就是理解如何达到这个平衡。
2.路由条件
    概念上的路由可以分为下面三个方面：源地址，目的地址，传输的约束条件。源地址可
以控制数据包寻找合适的到达目的地址的路径。目的地址可以使目的地址努力控制从源地址
到目的地址的路径。传输的约束条件可以控制数据在不同供应者的资源上（路由器，链接连
接）的传输。
    从概念角度上所需的对源地址和目的地址的控制程度不同于仅仅能提供链接（不管通过
何种路径），再复杂些的情况，还应该可以选择紧接着的供应者，另一个复杂情况就是一个用
户可以控制其路径。
    概念上的路由传输的控制程度条件不同于基于直接的物理连接（控制一些组织与供应者
直接相连），能限制传输到特定的源地址或目的地址，或者一些特定的源地址和目的地址的组
合，甚至考虑到到达或者源之源地址和目的地址的路径。
    考虑到路由条件会有潜在的较大的变化，我们需要对各种各样的路由条件的相关应用的
重要性有更好的理解。实际上，一些组织一般不对他们的路由作空间上的明确的陈述。例如：
既然一个供应者的基本任务就是为一组订户提供服务，供应者通常在其预期服务的订户的路
由需求的基础上陈述他们的路由需求。
    对多种路由需求的支持应该考虑其一般的管理费用及其产生的相关费用。有一种情形，
供应者可以单方面对其他组织（例如，需要其他组织维持一特定的路由信息）施加路由信息
费用，这并不是一种合适的选择。支持特定的路由需求的费用不应当由无需那些特定路由需
求的供应者负担。完美的路由系统应该允许替换与一特定的路由需求相关联的费用，以有助
于鼓动需求的实体（例如，有仔细平衡与维持一种多级跳头压缩对传送确定的转寄基于包的
信息相关联的费用需要）。需要简单路由需求的组织不应该与需要复杂路由需求的组织负担相
同的路由信息费用。
    与支持的一特定的路由需求相关联的费用需要通过一个愿意利用这个需求的组织内的每
个实体（如，路由器，主机）承担也是不尽合理的。一个组织应该能或多或少以主要方式示
例其路由需求，例如，仅仅利用一些路由器。
    即使路由信息范围纯粹是本地的，也有必要对潜在的利益和对各种路由需求支持产生的
关联费用之间的平衡进行仔细分析。
3.封装
    IP封装技术使得在现有的IP基本构造生成虚拟的IP覆盖成为可能。这必将影响到
Internet路由系统。
    由于封装的存在，供应者也许不能限制它的传输到源地址及目的地址，由于一个数据包
要经过传输路径上的路由器的封装，即将其源地址和目的地址隐藏（通过封装）于网络层中。
同样地，封装也许会影响到源地址和目的地址参数，由于源地址（或目的地址）有可能不知
道封装，或者对路径片断若有若无地封装。
    下一步的工作就得理解路由需求语义上的的封装覆盖能力的含义，也就是已经存在的路
由需求的实体和形成潜在的部分的实体的交互作用。
4.价值构成和它对路由的影响
    与供应者和订户间的一样的供应者间的路由也许会受到供应者的雇员的价值构成，同时
也有订户们的使用模式的影响。供应者应该有一个装置观察路由情况，允许供应者实际控制
那些可以使用供应者服务的人。订户也应该有一个装置观察路由情况，允许订户可以控制由
于Internet连接而产生的费用。
    必要控制的需要平衡提供该项控制路由装置费用。在竞争的市场环境中，也许会被置疑
增加费用的装置其实会比没有这种装置的更好，当然，竞争的压力或装置的升级可能会将逼
迫供应者和订户选择最便宜的装置。
5.升级
    一个利用Internet路由的费用计算关键条件是其能够被测量。除了常规的可升级的（如
内存，CPU，带宽），我们必须考虑到操作系统的人力资源的升级。CIDR的必备的配置已经说
明一个能计算出线性连接的网络数量的路由的配置，或者与连接的组织的数量相等，这在现
在是无法接受的，并且在以后的一段时间内仍然无法被接受。供应者数量的直接的测量的路
由在以后的时间内是否会被接受仍然是不清楚的。
    测量意味着Internet 路由系统需要有强大装置来提供路由信息的收集和提取。
    由于没有Internet范围内的调和和供应者间的竞争的存在，收集和提取的装置应该是将
前提最小化了的，也就是限定了必需的一起的调和的供应者的数量。完美的路由系统应该允
许供应者控制其本地资源的总量，这就需要涉及到完全基于供应者本身的报酬的路由费用。
    对路由信息收集和提取的方面的影响还有就是一些路由信息会丢失。这也许会影响到最
佳的路线和发现一个存在的路线的能力。路由信息的收集和提取的需要同时暗示着某些同样
的需要收集和提取的信息。这就需要反平衡潜在的多样的路由需求。
    作为处理由于收集和提取而产生路由信息的丢失，我们需要探究基于随机获得分散信息
的子集的允许路由的装置。
    与支持特殊路由需求相关联的费用对全面的Internet路由系统升级有直接的影响。我们
需要对各种路由需求如何对升级产生影响有进一步的理解。当影响是有意义的，并且需求有
实际的重要性，我们需要对可以使影响减少的装置进行进一步发展。
6.分等级的路由
    无等级的交互域名路由（CIDR）(参阅RFC1518,RFC1519)，如今被用来升级基于分等级
路由技术的Internet范围内的路由。这个技术的要点就是假定网络层地址分配给单独的实体
（如主机，路由器）来反映这些实体的在网络拓扑里的位置，地址对网络拓扑来说是很重要
的。由于CIDR地址分配给的是大部分被期望反映供应者的地点，这种情况下，CIDR使用基
于供应者的地址。
    使用分等级的路由的一个基本的结果是保持网络地址布局的重要性，随着网络拓扑结构
的改变，地址也得改变。由于同一个地理范围内多个供应者的存在，订户应该可以在不同的
供应者间进行切换。既然这样，就会导致Internet拓扑的改变，与之同时而来的就是保持供
应者基础上的订户的地址拓扑的重要性，订户不得不改变他所有实体的地址，这个过程叫“重
编号”。已经有了一种工具可以使这个过程变得容易，即动态地址分配协议（DHCP）。然而DHCP
并不被广泛的使用。下一步的工作就是要改进这个工具，使它得到更广泛的应用，并且和域
名解析系统（DNS）结合起来。
    多级别的分等级的路由考虑到在层级上的（如在供应者间的一个结点）取回由于地址和
在一些较高的路由层次上的特殊级别拓扑结构的不匹配的额外的路由信息（路由平均信息
量）。这就能够使路由系统包含不匹配的实体的范围。包含实体的范围可以是使重编号变得容
易的一个重要因素。下一步的工作就是要发展适当的配置策略来取得较好的应用。
    很有必要强调一下，维持拓扑结构重要地址所需的条件并不需要盲目的应用到所有接入
Internet机构，虽然分等级路由很需要这样，但不是所有地址都是有拓扑意义的。对于一个
大的机构来说，假如一批机构内部的目的地址，可以被Internet路由系统作为一个小数量的
地址来表现，甚至假如这些地址独立于提供给这个机构Interent连接的供应者的地址（独立
地址），这都是很足够的。一个大的机构输入Internet路由系统的路由信息的量应该与很大
数量相关联的小机构的路由信息（总计）具有可比较性。
    多供应者地存在允许一个订户可以同时接入一个以上的供应者（多本地订户）。CIDR提
供多个可选择的办法来处理这种情况。我们在更好地理解已经联合完成的被提议的可选择的
办法的同时需要获得更多的实际操作经验。
    一种CIDR地址分配的可供选择的办法就是纯粹的基于地理位置来分配地址。然而，反映
实体地理位置地址的分配意味着(a)Internet拓扑结构需要充分地适合于地理条件，或者(b)
地址不具有拓扑意义。在上面，我们需要理解为了使拓扑适应地理条件的大的影响力。最后
想说的就是，除了分等级的路由，其他相关技术也应该得到发展。
7.路由信息共享
    由于使得Internet范围内得调和变得越来越难，随着Internet的继续发展，，假如各个
不同机构的路由需求信息可以在机构间共享。这将对Internet的稳定性和一致性具有长远意
义上的影响。这样信息可以被用来发现和排除很大的范围内的路由请求冲突的纷争解决。
Internet的等级意味着信息应该是分布式的。在发展分析工具和利用这些信息的同时，建立
这些信息的存放处的工作也在进行中。
8.总结
    在这部分，我们列举一些IAB认为应该引起Internet社区注意的问题。
    下面两个任务是急需解决的：
    －发展使得“重编号”更容易的技术的下一步工作；
    －研究在直接供应者层次上的路由信息的可行性的工作。
    下面的任务是中期：
    －更好地理解各种路由需求的相关经验的重要性的工作；
    －更好地理解各种路由需求对路由系统升级的影响；
    －研究分等级路由可供选择的办法。
    最后，下面的任务是着眼长远的：
    －理解和利用路由信息共享；
    －理解通过封装产生虚拟覆盖图的含义；
    －理解不同的费用结构对路由请求产生的影响；
    －理解如何平衡供应者的目标和公众对Internet连接的兴趣和订户的选择之间的关系。
9.结论
    这篇文档介绍了在多供应Internet上的软件路由的一些问题。在这篇文档中无疑还有一
些有关路由的领域没有涉及。例如，多点传送路由，移动主机存在下的路由，大的共享媒质
（如异步传输模式ATM）条件下的路由等，都没有进行讨论。下一步的工作就是理解在这些
领域里多供应Internet下的含义。
    多供应的Internet的影响不只是路由方面，还包括一些如网络管理，纷争解决等其他一
些领域。下一步工作在估定在这些领域多供应环境下的含意的同时，也要从系统角度 对所有
这些领域交互作用的有进一步的理解。
10.致谢
    非常感谢Internet架构委员会（IAB）所有的成员，特别感谢为这篇文档做出贡献的Brian 
Carpenter，Robert Elz，Christian Huitema，Paul Mockapetris，和Lixia Zhang。
安全考虑
    在这篇文档中不讨论安全问题。
作者地址：
        Yakov Rekhter
	T.J. Watson Research Center IBM Corporation
	P.O Box 704,Office H3-D40
	Yorktown Heights,NY 10598
	Phone: +1 914 784 7361
	Email: yakov@watson.ibm.com
RFC1787  Routing in a Multi-provider Internet          在多供应Internet上的软件路由


1
RFC文档中文翻译计划
