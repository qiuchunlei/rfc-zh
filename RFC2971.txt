组织：中国互动出版网（http://www.china-pub.com/）
RFC文档中文翻译计划（http://www.china-pub.com/compters/emook/aboutemook.htm）
E-mail：ouyang@china-pub.com
译者： 
译文发布时间：2001-12-9
版权：本中文翻译文档版权归中国互动出版网所有。可以用于非商业用途自由转载，但必须
保留本文档的翻译及版权信息。


Network Working Group                                         T.Showalter
Request for Comments: 2971                                 Mirapoint,Inc.     
Category: Standards Track                                     October 2000
        
IMAP4 ID  扩展名
（RFC2971――IMAP4 ID extension）
本备忘录的状况
    这份文档指定了一个为了互联网社会的因特网标准追踪协议，以及请求讨论和建议如何
改进。满足为了这标准化的规定和这协议的状况而查阅这个“因特网官方的协议标准”（标准 
1）的通用版本。这个备忘录的发行是无限期的。  
版权声明
    版权（C）这Internet协会（2000）。版权所有。
摘要
这关于互联网消息存取协议的ID扩展名――4rev1(IMAP4rev1)协议译本允许服务器和
客户在他们运行的时候交换鉴定信息为了获得错误报告和更完善的使用统计学。
目录
1.介绍	2
2.在文档中的使用惯例	2
3.说明	2
3.1 ID命令	2
3.2. ID响应	3
3.3 定义领域的价值	3
4. 形式语法	4
5.用防火墙和其他媒介的ID扩展名的使用	4
6.参考	4
7.安全事项	5
8.作者的地址	5

1.介绍
    这IMAP4rev1协议描述了在（IMAP4rev1）提供一方法适合于访问远程的邮件存储，但是
它不提供设备为了客户和服务器做广告使用计划提供服务。这使得执行者从用户得到完全的
错误报告更困难，就像确认客户端或服务器在使用什么一样困难。
    附加的，一些站点可能希望集合基于客户端使用的统计表，但是在使用者被允许获得并
保存他们自身客户端的条件下，这就很难实现。
    ID命令提供了一种工具，在联系报告使用程序中发布信息（错误应该曾经存在）。
2.在文档中的使用惯例
    这些在文档中的关键字如“MUST”，“MUST NOT”，“REQUTRED”，“SHALL”，“SHALL NOT”，
“SHOULD”，“SHOULD NOT”，“RECOMMENDED”，“MAY”，和“OPTIONAL”被描述为（KEYWORDS）
一样被解释。
    在文档中的使用惯例和在（IMPA4rev1）中一样被指定。例如，“C：”以及“S：” 分别被
客户和服务器指出在线发送。在线暂停将为了易读性而被插入。
3.说明
    这ID扩展名的唯一目的就是为了能够使客户和服务器在他们实现统计分析以及问题的
果断时能改变消息的目的。
    为了统计的目的一些信息将被提交给服务器通过任何一个客户提供的信息，倘若这服务
器自发的为它作广告来拿原始“ID”的资料并且包含一些性能掌握和性能回馈的列表。
     执行不必依靠这数据的发送以及这ID命令和响应的一部分来进行操作的改变。这ID
命令仅仅是为了人们的消费，和不仅仅是改进客户和服务器的执行。
     这包括，但是不是有限的，如下：
     服务器不必尝试通过使用从ID命令处来的信息来在客户附近工作。客户不必依靠这ID
响应来在服务器附近工作。
     服务器不必通过使用从这ID命令处来的信息来提供特征为了一个客户或者另外的使之
最优化。客户不必依靠这ID响应来提供特征给服务器或另外的使之 最优化。 
     服务器不必拒绝使用依靠从这ID命令来的信息或者拒绝为一个客户服务。客户不必拒
绝依靠这ID响应来操作或者限定这服务器的操作。
     基本原理：这是需要的因为这扩展名不代替IMAP’的CAPABILITY机制并且依靠他们宣
称的那样的执行猜测互相特征的一个ad-hoc途径。
     执行不必发送一个在ID命令中错误的信息。
     执行也可发送比他们拥有的有用或无用的更少的信息。一些行为可以有用的保护使用者
的秘密。要了解安全事项，看第七段。
3.1 ID命令
     观点：客户参数列表或者NIL
     响应：OPTIONAL untagged 响应：ID
     结果：OK  鉴定信息接受
           BAD 命令未知或者争论无效
     执行鉴定信息是被有ID命令的客户发送的。
     这命令是在任何情形下都有效的。
     这信息的发送是以一对领域/价值的列表的形式。领域被允许成为任何的IMAP的一串，
而且价值也被允许成为这IMAP的一串或者NIL。一个NIL的价值表明这客户不能或不愿指明
这个信息。这些客户也可以发送NIL代替这列表，指示不想发送的信息，而且那将接受一个
服务响应。
     这有用的领域将在3.3段中详细说明。
     例如：c: a023 ID ("name" "sodr" "19.34" "vendor" "Pink Floyd Music Limited")
           s: * ID NIL
           s: a023 OK ID completed  
3.2. ID响应
     目录：服务器参数列表
     响应这ID 命令由客户发出，这服务器紧接着答复在它的执行中包含的信息。这形式和
这客户列表一样。          例如：c: a042 ID NIL
           s: * ID ("name" "Cyrus" "version" "1.5" "os" "sunos" "os-version" "5.5" 
"support-url" "mailto:cyrus-bugs+@andrew.cmu.edu")
           s:a042 OK ID command completed
      一个服务器必须发送一个连接的ID响应给一个ID命令。然而，一个服务器可以代替
列表发送NIL。
3.3 定义领域的价值 
     任何一串可以被看作领域来发送，但是余下的将被详细的描述为某一个价值而有可能被
发送。执行将不发送或者一些或者全部。串不是敏感的。串领域不必比30个八位字节更长。
价值串不必比1024个八位字节更长。执行不必发送多于30个一对领域-价值。
     名字          计划的名字
     译本          计划的版本号
     OS            操作系统的名字
     OS-译本       操作系统的译本
     供应商        客户/服务器的卖主  
     support-url   联系适合于支持的URL
     地址          联系/供应商的邮局地址
     日期          日期问题在IMAP4rev1中作为一个日期-时间被发表，指定
     命令          命令被启动这些程序
     参数          即便要，参数靠命令行供给
     环境          环境的描述，i,e.,UNIX环境变量或者Windows注册设置
     执行不能使用接触信息来自动的提交错误报告。执行也许包含在一个自动准备报告中的
一个ID响应处来的信息，但是禁止发送没有用户授权的报告。
     在可能的地方在运行时间下它能更好的查找根本的操作系统名称和版本。
     通过ID响应的信息发送可能侵犯用户隐私。见安全考虑第七段。
     执行不能多于一次的发送同样的域名。   
4. 形式语法
     这语法是有意的增加在（IMAP4rev1）里为了规定这ID命令的文法的详细说明。这说明
书使用这扩张的Backus-Naur Form（BNF）语法就像在（IMAP4rev1）中被使用的一样。
     command_any ::= "CAPABILITY" / "LOGOUT" / "NOOP" / x_command / id
         ;; adds id command to command_any in [IMAP4rev1]

     id ::= "ID" SPACE id_params_list

     id_response ::= "ID" SPACE id_params_list

     id_params_list ::= "(" #(string SPACE nstring) ")" / nil
         ;; list of field value pairs

     response_data ::= "*" SPACE (resp_cond_state / resp_cond_bye /
         mailbox_data / message_data / capability_data / id_response)
5.用防火墙和其他媒介的ID扩展名的使用
    存在着代理人，防火墙，以及其他的中间系统能够截取一个IMAP会议并且使在这会议上
的数据交换改变。还有一些中间人不是预先知道这些IMAP4的草案设计和那些IMAP4标准的
范围。然而，在一些中间人当中为了这ID命令变的有用，这些中间人需要这些ID命令和响
应的特殊意义。特别的，假如一个中间人改变了这IMAP会议的一部分它必须也改变这ID命
令去为了它的存在做广告。
    一个防火墙将产生阻碍一些特殊的信息领域的传送在这ID命令和响应并且相信将会暴
露一个安全中的弱点。然而，一个防火墙不应该一概的停止使用扩展名当被呈现的时候，还
有不应该无条件的开除顾客又开除服务器列表。
    最后，当作一个性能响应时一个被记录的防火墙不能允许这些扩展名的名字被归还给顾
客不管这防火墙没有开启。
6.参考
    （KEYWORDS） Bradner,S.，“Key words for use in RFCs to Indicate Requirement 
Levels” ，RFC 2119,March 1997.
    （IMAP4REV1）Crispin,M.,“Internet Message Access Protocol-Version 4rev1”,RFC 
2060,October 1996.
    （RFC-822）Crocker,D.,“Standard for the Format of ARPA Internet Text 
Messages”,STD 11,RFC 822,August 1982.
7.安全事项
    这扩展名假如被错用的话将会侵犯这使用者的秘密。客户和服务器应该通报用户执行和
使用ID命令。
    这是非常需要的准备一个不获得ID支持的方法，或许根本不需要发送ID，或者像为了
这ID命令和响应一样的争论的发送。
    作为一个ID命令和响应的一部分执行者必须在增加的领域中训练注意。一些领域，包括
一个ID数字处理机，以太网地址，或者其他的独特的（或者大部分独特的）标识符允许在违
背用户秘密期望的方法时跟踪。
    一个特定的顾客和服务器的拥有的执行信息可以使它更加容易的使一个攻击者去得到未
经授权的访问由于安全漏洞。
    自从这个命令包括任意的数据并且不要求用户的证实时，服务器的执行将被警告去防护
一个攻击者发送任意的垃圾数据为了登陆这ID。特别的，假如一个服务器没有任何措施的记
录到它磁盘上的ID命令的话，一个攻击者可以简单的攻击数以千记的线路和发送一些胡乱的
千字节的数据。服务器必须提防这些。方法包含截断不规则的大的回答；还有通过存储唯一
的答案来比较响应，然后保存一段时期的数字的柜台作为响应被看见；保存唯一的独特的有
趣味的响应部分；以及仅仅记载实际上那些记载下来的用户的响应。
    安全是有可能受到影响的，通过修改这IMAP协议流的防火墙；看见第五段，有防火墙的
ID扩展名的使用和通过其他媒介只为了更多的信息。
8.作者的地址
    Tim Showalter
    Mirapoint,Inc.
    909 Hermosa Ct.
    Sunnyvale,CA 94095
    
    EMail:tjs@mirapoint.com       
RFC2971――IMAP4 ID extension                               IMAP4 ID  扩展名


1
RFC文档中文翻译计划
